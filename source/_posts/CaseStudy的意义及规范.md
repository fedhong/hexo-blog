---
title: CaseStudy的意义及规范
date: 2018-07-05 15:15:21
tags: casestudy
---
CaseStudy，让人比较讨厌的一个词，因为如果它出现了，那就是出事故了，接下来就会面临定级，影响到KPI，哈哈。

虽然让人讨厌，但是却是不能缺少的，而且意义还很重大：

CaseStudy的主要目的不是为了降低某个人的绩效，也不是追究谁的锅（当然，最后锅还是要有人背的哈），而是通过案例的研究，一步步复现问题发生的过程，从而制定一系列的规范，避免类似事故再次发生。

那么如何正确的CaseStudy、正确制定规范避免类似事故呢？

以下均为个人观点（不同意也没办法，不提供留言讨论功能）：

### 事故描述      
详细的描述事故发送的过程。什么时间？做了什么事情？由于什么原因？导致了什么结果？进而影响到了什么？最终造成什么结果？
例如：2018年7月5号下午15点30分，上线了一篇新文章，由于在创建文章的时候，误删除了一篇现有文章，发版后，导致了线上文章被删除。进而影响到了用户的阅读，最终造成用户体验下降，影响品牌形象。
### 事故相关人
责任人：XXX 
处理人：XXX
责任人即谁做了操作影响到结果。处理人则为跟着一起排查问题，解决问题（一般线上出问题，都比较蒙圈，赶紧找有交集的人一起帮忙分析）。

### 事故定级
定级是为了有标准来衡量事故的严重性。比如你也发生线上事故，我也发生线上事故，那怎么来衡量谁的严重，谁的KPI低呢？
可以从几个维度来分析：
1. 影响到的用户数
2. 影响到的订单数||交易额||数据错误额度||各种指标等等
3. 问题解决的时长

可根据业务自身特点来定制维度。并且在维度的基础上，划分范围来定级。例如：

|维度|范围|定级|
|:-|:-|:-|
|影响到用户数|1000以上|S1|
|影响到用户数|500~1000|S2|
|影响到用户数|100~500|S3|
|影响到用户数|小于100|S4|

### 事故影响范围
* 修复数据N条
* 影响用户N个
* 影响交易额N个亿（可以走人了）
* 影响订单量几千万（终身免费打工吧）
* 系统24小时无法访问（着急了吧）
* 等等，看具体业务（开发有风险，入行请谨慎）

### 问题处理过程
```
详细描述问题处理的过程，尽量的细化，到分钟级别。例如：

yyyymmdd HH:ss 谁跟谁反馈了什么问题？
yyyymmdd HH:ss 谁找到了谁发现了什么异常？
yyyymmdd HH:ss 谁开始排查？
yyyymmdd HH:ss 又遇到了什么难题？
yyyymmdd HH:ss 再找到谁分析？
yyyymmdd HH:ss …………此处省略若干行，希望快点定位到问题吧。
yyyymmdd HH:ss 最终确定哪出了问题？
yyyymmdd HH:ss 谁想到了补救方案？
yyyymmdd HH:ss 谁开始执行？
yyyymmdd HH:ss 谁跟着确认？
yyyymmdd HH:ss 什么环境验证结果？
yyyymmdd HH:ss 谁准备上线？
yyyymmdd HH:ss 线上验证结果？
yyyymmdd HH:ss 整体解决完成？
```

### 原因分析
原因分析，就需要多问几个为什么？
1. 为什么此次升级会造成现有文章丢失？
因为此次升级是为了添加一篇新的文章，在创建新文章时，由于程序员误操作，导致删除了之前的文章。
2. 为什么新建文章会删除旧文章？
因为创建文章时，敲错了命令，导致现有文章被删除。
3. 为什么删除没有确认操作？
框架没有提供确认操作。。。
4. 为什么上线前没有review？
一个人负责该项目，没有同伴review。

示例纯属扯淡，不要参考。一定要认真写问题的原因，做到真实、客观。

### 事故总结
1. 对业务熟悉程度不够。
2. 对框架使用不深入。
3. 对某某环境了解甚浅。
4. 对XX系统重视不足。
5. 对什么流程操作不规范。

对于某一项，都要展开来说。比如为什么操作流程不规范？是因为之前没有规范？还是由于新人入职，了解不够？还是规范有修改，信息未同步？等等等等。

### 后续改进
重点来了！级也定了（锅也背了）、原因也分析了、事故也总结了。该想想如何改进，不再犯同样的错了。
比如可以整理一个TODO LIST：

|改进点|负责人|完成时间|当前状态|
|:-|:-|:-|:-|
|熟悉开发规范|张三|2月31号|已完成|
|梳理上线流程|李四|2月31号|已完成|
|制定checklist|王五|2月31号|已完成|
|实施review机制|赵六|2月31号|进行中|
|接入自动化测试|周七|2月31号|进行中|
|完善回滚机制|吴八|2月31号|进行中|


### 总之：
CaseStudy不是写在这儿就完了，要切实改进流程，避免事故再犯，改进点不要太泛，一定要落实到具体人，并且可操作、可执行、有结果。